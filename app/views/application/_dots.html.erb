 <script type="text/paperscript" canvas="myCanvas">
 // assigning colors to dots
 function assigncolor(id, color) {
  document.getElementById(id).addEventListener("click",function(){
    pick(color)
    });
  };
  assigncolor('a','yellow')
  assigncolor('b', 'dodgerblue')
  assigncolor('c','peachpuff')
  assigncolor('d', 'tomato')
  assigncolor('e', 'yellow')
  assigncolor('f', 'dodgerblue')
  assigncolor('g', 'peachpuff')
  assigncolor('h', 'tomato')
  assigncolor('i', 'yellow')
  assigncolor('j', 'dodgerblue')
  assigncolor('k', 'peachpuff')
  assigncolor('h', 'tomato')
  assigncolor('l', 'yellow')
  assigncolor('m', 'dodgerblue')
  assigncolor('n', 'peachpuff')
  assigncolor('o', 'tomato')
   
// settinig up the new firebase
  var myDataRef = new Firebase('https://selmaandwang.firebaseio.com/dots'); 
   var user;
   var loaded = true;
   // loading the firebase assets
   myDataRef.on("value",function(snapshot) {
   if (loaded === true) {
     var a = snapshot.val();
     for (var key in a) { 
       var obj = a[key];
       whoa(obj.x, obj.y, obj.color, obj.segment, false)
     }
     loaded = false;
   } else {
   }
   });
// updating canvas when a child is added to the fb object
  myDataRef.on("child_added", function(snapshot) {
     if (loaded === false) { 
     var aa = snapshot.val();
       var ob = aa;
       whoa(ob.x, ob.y, ob.color, ob.segment, true)
     }
   });


    
   // function for drawing the dots on the page
   function whoa(x,y,color,segment,pulse) {
     console.log(pulse)
     var point = new Point(x,y)
     var myCircle = new Path.Ellipse({
       size: [20,25] ,
       center: point,
       fillColor: color 
     });
  // function for pulsating dots
     myCircle.removeSegment(segment);
     if (pulse == true) {
    var myVar=setInterval(function(){myTimer()},1000);
    var big = true;
    function myTimer() {
      if (big == true) { 
      myCircle.scale(2)
      big = false;
      iview.update(); 
      } else {
      myCircle.scale(0.5)
      big = true;
      view.update(); 
      }
    }
   }
    view.update(); 
   }
     // function the pushes the coordinates to firebase
   function pick(color) {
     var x = Math.floor((Math.random() * 1400) + 100);
     var y = Math.floor((Math.random() * 800) + 100);
     var math = Math.random();
     if (math > 0.75) {
       var segment = 1 
     } else if (math < 0.75 && math > 0.50) {
       var segment = 2
     } else if (math < 0.50 && math > 0.25) {
       var segment = 3 
     } else {
       var segment = 0
     }
     myDataRef.push({ x: x, y: y, color: color,segment: segment})
     console.log(x,y)
   
    }
   // function that asks the question on mouse click(unused)
   // function onMouseDown(event) {
   //   ask();
   // }
 </script>
